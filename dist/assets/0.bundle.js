webpackJsonp([0],{216:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(4),c=n(s),f=a(45),p=n(f),d=a(46),m=n(d),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.state={id:location.hash.split("/")[2].split("?")[0],data:{}},p["default"].get("/api/v0.1/myDocuments/"+this.state.id).then(function(t){e.setState({data:t.data})})}},{key:"render",value:function(){var e=location.hash.split("/")[3].split("?")[0];return c["default"].createElement("div",{className:"approval-container"},c["default"].createElement(m["default"],l({title:"审批结果",buttonName:"首页"},this.props)),c["default"].createElement("p",{className:"approval-title"},this.state.data.name),c["default"].createElement("p",{className:"approval-result"},"单据审批","0"===e?"不通过":"通过"))}}]),t}(c["default"].Component);t["default"]=h,e.exports=t["default"]},217:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,u,s,c,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(4),d=n(p),m=a(45),h=n(m),y=a(38),v=a(61),b=a(39),E=a(46),_=n(E),N=(l=(0,y.connect)(function(e){return{}},{EAModify:v.EAModify,push:b.push}),l((c=s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,[{key:"componentWillMount",value:function(){var e=this;this.state={id:location.hash.split("/")[2].split("?")[0],data:{}},h["default"].get("/api/v0.1/myDocuments/"+this.state.id).then(function(t){e.setState({data:t.data})})}},{key:"approval",value:function(e){e?(this.props.EAModify({id:this.state.id,name:this.state.data.name,status:1}),this.props.push("approvalResult/"+this.state.id+"/"+e)):(this.props.EAModify({id:this.state.id,name:this.state.data.name,status:2}),this.props.push("approvalResult/"+this.state.id+"/"+e))}},{key:"render",value:function(){var e=this;return d["default"].createElement("div",{className:"approval-container"},d["default"].createElement(_["default"],{title:"单据审批",buttonName:"首页"}),d["default"].createElement("p",{className:"ea-name"},this.state.data.name),d["default"].createElement("div",{className:"form"},d["default"].createElement("div",{className:"textarea-item"},d["default"].createElement("p",null,"节点审批人：",this.state.data.username),d["default"].createElement("p",{className:"textarea-item-title"},"审批说明："),d["default"].createElement("textarea",{className:"textarea"})),d["default"].createElement("div",{className:"btn-item"},d["default"].createElement("button",{className:"btn pass",onClick:function(){e.approval(1)}},"通过"),d["default"].createElement("button",{className:"btn reject",onClick:function(){e.approval(0)}},"不通过"))))}}]),t}(d["default"].Component),s.propTypes={push:d["default"].PropTypes.func.isRequired,EAModify:d["default"].PropTypes.func.isRequired},u=c))||u);t["default"]=N,e.exports=t["default"]},218:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,u,s,c,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(4),m=n(d),h=a(45),y=n(h),v=a(38),b=a(61),E=a(39),_=a(46),N=n(_),O=(l=(0,v.connect)(function(e){return{}},{EAAdd:b.EAAdd,push:E.push}),l((c=s=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isShowMask:{display:"none"},id:location.hash.split("/")[2].split("?")[0],data:{}},e.verify=e.verify.bind(e),e.commit=e.commit.bind(e),e.cancelCommit=e.cancelCommit.bind(e),e}return i(t,e),p(t,[{key:"componentWillMount",value:function(){var e=this;y["default"].get("/api/v0.1/documents/"+this.state.id).then(function(t){e.setState({data:t.data})})}},{key:"submit",value:function(){this.setState({isShowMask:{display:"block"}})}},{key:"verify",value:function(){var e=/^[^\s]+$/,t=this.refs.username.value,a=this.refs.num.value;e.test(t)&&e.test(a)?this.submit():alert("你输的输入为空或者有空格，请重新输入！")}},{key:"cancelCommit",value:function(){this.setState({isShowMask:{display:"none"}})}},{key:"commit",value:function(e,t){var a={name:e,status:0,username:t};this.props.EAAdd(a),this.jumpToApproval()}},{key:"jumpToApproval",value:function(){var e=this;y["default"].get("/api/v0.1/myDocuments").then(function(t){e.props.push("/approval/"+t.data[t.data.length-1].id)})}},{key:"render",value:function(){var e=this;return m["default"].createElement("div",{className:"edit-container"},m["default"].createElement(N["default"],f({title:"单据编辑",buttonName:"首页"},this.props)),m["default"].createElement("p",{className:"ea-name"},this.state.data.name),m["default"].createElement("div",{className:"form"},m["default"].createElement("div",{className:"input-items"},m["default"].createElement("div",{className:"input-item"},m["default"].createElement("span",null,"姓名："),m["default"].createElement("input",{type:"text",className:"input",ref:"username"})),m["default"].createElement("div",{className:"input-item"},m["default"].createElement("span",null,"工号："),m["default"].createElement("input",{type:"text",className:"input",ref:"num"}))),m["default"].createElement("div",{className:"textarea-item"},m["default"].createElement("p",{className:"textarea-item-title"},"单据说明："),m["default"].createElement("textarea",{className:"textarea"})),m["default"].createElement("div",{className:"btn-item"},m["default"].createElement("button",{className:"btn",onClick:this.verify},"提交"))),m["default"].createElement("div",{className:"mask",style:this.state.isShowMask},m["default"].createElement("div",{className:"popup"},m["default"].createElement("p",{className:"popup-name"},"是否确认提交单据？"),m["default"].createElement("p",null,m["default"].createElement("button",{className:"btn sure",onClick:function(){e.commit(e.state.data.name,e.refs.username.value)}},"确认"),m["default"].createElement("button",{className:"btn cancel",onClick:this.cancelCommit},"取消")))))}}]),t}(m["default"].Component),s.propTypes={push:m["default"].PropTypes.func.isRequired,EAAdd:m["default"].PropTypes.func.isRequired},u=c))||u);t["default"]=O,e.exports=t["default"]}});